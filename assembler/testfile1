%define	push_2_reg16(a,b)	\
	push	a\
	push	b

%define push_all_reg16	\
	push_2_reg16(AF, BC)
	push_2_reg16(DE, HL)

%define	SPACE_ELEM_SIZE		4
%define	INDEX				2

.extern		ext_symbol

.memlock	vars, 0xc000, end=0xc020
.var16		space, vars

push_all_reg16
ld	A, B
ld	(space), C
ld	(space + 1), D
ld	(space + 2), E
ld	(space + 1 * SPACE_ELEM_SIZE)
ld	(ext_symbol + INDEX * SPACE_ELEM_SIZE)

%undef push_2_reg16
%undef push_all_reg16
%undef SPACE_ELEM_SIZE
